<script>
  // Register form handler
  document.getElementById('register-form').addEventListener('submit', async (event) => {
    event.preventDefault();

    const username = document.getElementById('register-username').value;
    const password = document.getElementById('register-password').value;

    const response = await fetch('https://your-heroku-app-url/register', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ username, password }),
    });

    const data = await response.json();
    alert(data.message);  // Show response message from backend

    if (response.ok) {
      // Redirect to login page after successful registration
      window.location.href = '/login';
    }
  });

  // Login form handler
  document.getElementById('login-form').addEventListener('submit', async (event) => {
    event.preventDefault();

    const username = document.getElementById('login-username').value;
    const password = document.getElementById('login-password').value;

    const response = await fetch('https://your-heroku-app-url/login', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ username, password }),
    });

    const data = await response.json();

    if (data.token) {
      // Save token (you can store it in localStorage or use it for future requests)
      alert('Login successful! Token: ' + data.token);

      // Redirect to the deposit page after successful login
      window.location.href = '/deposit';
    } else {
      alert('Error: ' + data.error);
    }
  });
</script>
