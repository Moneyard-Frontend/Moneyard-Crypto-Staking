<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Moneyard Learning</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #FFA94D !important;
      color: #333;
    }

    header {
      background-color: #007a5a;
      color: white;
      padding: 20px;
      text-align: center;
    }

    .learn-container {
      padding: 20px;
    }

    .learn-modules {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }

    .learn-card {
      flex: 1;
      min-width: 250px;
      background: white;
      border-left: 5px solid #007a5a;
      padding: 20px;
      border-radius: 10px;
      position: relative;
      opacity: 1;
      transition: transform 0.2s, opacity 0.4s ease;
    }

    .learn-card.locked {
      pointer-events: none;
      opacity: 0.5;
    }

    .learn-card:hover {
      transform: scale(1.02);
      background: #f0f0f0;
    }

    .learn-card button {
      background-color: #007a5a;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.08); }
      100% { transform: scale(1); }
    }

    #lessonModal {
      display: none;
      position: fixed;
      top: 5%;
      left: 5%;
      width: 90%;
      height: 90%;
      background: white;
      border: 1px solid #ccc;
      padding: 20px;
      overflow-y: auto;
      z-index: 999;
      border-radius: 8px;
    }

    #lessonModal span {
      float: right;
      cursor: pointer;
      font-weight: bold;
      font-size: 20px;
    }

    .progress-bar {
      background: #eee;
      border-radius: 5px;
      margin: 20px 0;
      height: 20px;
      width: 100%;
    }

    .progress-fill {
      height: 100%;
      width: 0;
      background: #2ecc71;
      border-radius: 5px;
      transition: width 0.5s ease;
    }

    .quiz-section {
      margin-top: 30px;
    }

    .quiz-question {
      margin-bottom: 10px;
    }

    .badge {
      display: inline-block;
      background: #2ecc71;
      color: white;
      padding: 5px 10px;
      margin-top: 15px;
      border-radius: 5px;
      animation: fadeIn 1s ease-in;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.8); }
      to { opacity: 1; transform: scale(1); }
    }

    #audioControls {
      margin-top: 20px;
    }

    #audioControls button {
      background-color: #1abc9c;
      color: white;
      border: none;
      margin-right: 10px;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s;
    }

    #audioControls button:hover {
      background-color: #16a085;
    }

    iframe {
      width: 100%;
      height: 315px;
      margin: 20px 0;
      border: none;
      border-radius: 10px;
    }

    .learn-more-link {
      display: inline-block;
      margin-top: 15px;
      margin-bottom: 10px;
      font-weight: bold;
      background-color: #28a745;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      text-decoration: none;
      cursor: pointer;
      text-align: center;
    }

    .learn-more-link:hover {
      background-color: #218838;
    }
  </style>
<head>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <header>
<!-- Center: Moneyard Learning button -->
  <div style="position: absolute; left: 50%; transform: translateX(-50%);">
    <a href="information.html" class="moneyard-learning-btn">
  <i class="fas fa-graduation-cap"></i> Moneyard Learning
</a>
  </header>
<header style="display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; background-color: #f8f9fa;">
  <!-- Left: Learning Course button -->
<a href="learning-course.html" class="learning-btn">
  <i class="fas fa-book-reader"></i> Learning Course
</a>
    </a>
  </div>
</header>
  <div class="learn-container">
    <h2>Choose a Module To Learn About</h2>
    <div class="learn-modules" id="modulesContainer"></div>
    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>
  </div>

  <div id="lessonModal">
    <span onclick="closeLesson()">X</span>
    <div id="lessonContent"></div>
    <a id="learnMoreLink" class="learn-more-link" target="_blank">Learn More</a>
    <div id="audioControls">
      <button onclick="playAudio()">Play Audio</button>
      <button onclick="stopAudio()">Stop Audio</button>
    </div>
  </div>

  <script>
    const modules = [
      {
        id: 'crypto',
        title: 'Cryptocurrency Basics',
        desc: 'Learn how crypto works and how to earn securely.',
        link: 'cryptocurrency.html',
        content: `
          <h2>Cryptocurrency Basics</h2>
          <p>Cryptocurrency is a digital or virtual currency that uses cryptography for security. It is decentralized and operates on blockchain technology. Learn how to store and transfer it securely.</p>
          <iframe src="https://www.youtube.com/embed/6Gu2QMTAkEU" allowfullscreen></iframe>
          <ul>
            <li>What is blockchain technology?</li>
            <li>How do wallets and exchanges work?</li>
            <li>How to stake and earn rewards safely</li>
          </ul>
          <div class='quiz-section'>
            <div class='quiz-question'><strong>1:</strong> What is staking?</div>
            <button onclick="alert('Correct!')">Earning by holding crypto</button>
            <button onclick="alert('Nope!')">Sending crypto fast</button>
          </div>
          <div class='badge'>Crypto Explorer</div>
        `
      },
      {
        id: 'savings',
        title: 'High-Yield Savings',
        desc: 'Grow your savings smartly and steadily.',
        link: 'yield-savings.html',
        content: `
          <h2>High-Yield Savings</h2>
          <p>Savings is the act of setting aside a portion of your income for future use. It's important to build a savings habit to prepare for emergencies, opportunities, and long-term goals. Even small amounts saved regularly can grow over time.</p>
          <ul>
            <li>Daily vs monthly compounding</li>
            <li>Choosing the best HYSA</li>
            <li>Comparing traditional banks vs fintech</li>
            <li>What's a good reason to use HYSA? - High interest, low risk</li>
            <li>To borrow loans</li>
          </ul>
          <div class='quiz-section'>
            <div class='quiz-question'>What's a good reason to use HYSA?</div>
            <button onclick="alert('Correct!')">High interest, low risk</button>
            <button onclick="alert('Nope!')">To borrow loans</button>
          </div>
          <div class='badge'>Smart Saver</div>
        `
      },
      {
        id: 'investing',
        title: 'Micro-Investing',
        desc: 'Learn the fundamentals of micro-investing for smart wealth growth.',
        link: 'micro-investing.html',
        content: `
          <h2>Micro-Investing</h2>
          <p>Micro-investing allows individuals to invest small amounts of money regularly. It makes investing accessible, even for those with limited funds. Start with spare change or small amounts to build wealth gradually over time.</p>
          <iframe src="https://www.youtube.com/embed/CrtP91S0TAI" allowfullscreen></iframe>
          <ul>
            <li>How does micro-investing work?</li>
            <li>Benefits of micro-investing</li>
            <li>Choosing the right platforms for micro-investing</li>
          </ul>
          <div class='quiz-section'>
            <div class='quiz-question'>What is the main benefit of micro-investing?</div>
            <button onclick="alert('Correct!')">Investing small amounts regularly</button>
            <button onclick="alert('Nope!')">Large, one-time investments</button>
          </div>
          <div class='badge'>Wealth Builder</div>
        `
      }
    ];

    let completedModules = JSON.parse(localStorage.getItem('completedModules')) || [];
    let utterance;
    let currentModule = null;

    function loadModules() {
      const container = document.getElementById('modulesContainer');
      container.innerHTML = '';

      modules.forEach((mod, index) => {
        const unlocked = index === 0 || completedModules.includes(mod.id);
        const card = document.createElement('div');
        card.classList.add('learn-card');
        if (!unlocked) card.classList.add('locked');
        card.innerHTML = `
          <h3>${mod.title}</h3>
          <p>${mod.desc}</p>
          <button onclick="startLesson('${mod.id}')">${unlocked ? 'Start Lesson' : 'Unlock Lesson'}</button>
        `;
        container.appendChild(card);
      });

      updateProgress();
    }

    function startLesson(moduleId) {
      currentModule = modules.find(mod => mod.id === moduleId);
      document.getElementById('lessonContent').innerHTML = currentModule.content;
      document.getElementById('learnMoreLink').href = currentModule.link;
      document.getElementById('lessonModal').style.display = 'block';

      // Start speech
      speakContent(currentModule.title, currentModule.desc, currentModule.content);
    }

    function closeLesson() {
      document.getElementById('lessonModal').style.display = 'none';
    }

    function speakContent(moduleTitle, moduleDesc, moduleContent) {
      const welcomeText = `Welcome to the ${moduleTitle} lesson. Let's dive into this exciting topic.`;
      utterance = new SpeechSynthesisUtterance(welcomeText);
      speechSynthesis.speak(utterance);

      // Speaking the contents of the module
      const contentText = `${moduleDesc} ${moduleContent}`;
      utterance.onend = function () {
        const learnMoreUtterance = new SpeechSynthesisUtterance('Learn more');
        speechSynthesis.speak(learnMoreUtterance);
      };

      // Speak module content
      const contentUtterance = new SpeechSynthesisUtterance(contentText);
      speechSynthesis.speak(contentUtterance);
    }

    function updateProgress() {
      const totalModules = modules.length;
      const completed = completedModules.length;
      const percent = (completed / totalModules) * 100;
      document.getElementById('progressFill').style.width = `${percent}%`;
    }

    loadModules();
  </script>
</body>
</html>
