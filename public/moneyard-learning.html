<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Moneyard Learning</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #FFA94D;
      color: #333;
    }
    header {
      background-color: #007a5a;
      color: white;
      padding: 20px;
      text-align: center;
    }
    .learn-container {
      padding: 20px;
    }
    .learn-modules {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }
    .learn-card {
      flex: 1;
      min-width: 250px;
      background: white;
      border-left: 5px solid #007a5a;
      padding: 20px;
      border-radius: 10px;
      position: relative;
      transition: transform 0.2s;
    }
    .learn-card:hover {
      transform: scale(1.02);
      background: #f0f0f0;
    }
    .learn-card button {
      margin-top: 10px;
      margin-right: 5px;
      background-color: #007a5a;
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      font-weight: bold;
    }
    .progress-bar {
      background: #eee;
      border-radius: 5px;
      margin: 20px 0;
      height: 20px;
      width: 100%;
    }
    .progress-fill {
      height: 100%;
      width: 0;
      background: #2ecc71;
      border-radius: 5px;
      transition: width 0.5s ease;
    }
    #lessonModal {
      display: none;
      position: fixed;
      top: 5%;
      left: 5%;
      width: 90%;
      height: 90%;
      background: white;
      padding: 20px;
      overflow-y: auto;
      z-index: 999;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
    #lessonModal span {
      float: right;
      cursor: pointer;
      font-weight: bold;
      font-size: 20px;
    }
    .form-section {
      margin-top: 30px;
      padding: 20px;
      background: #fff3e0;
      border-radius: 10px;
    }
    .form-section input, .form-section textarea {
      width: 100%;
      padding: 10px;
      margin-top: 5px;
      margin-bottom: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .form-section button {
      background-color: #1abc9c;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>
    <h1>Moneyard Learning</h1>
    <p>Smart Finance for the Future</p>
  </header>

  <div class="learn-container">
    <h2>Choose a Module</h2>
    <div class="learn-modules" id="modulesContainer"></div>
    <div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div>

    <!-- Add New Module Form -->
    <div class="form-section">
      <h3>Add New Module</h3>
      <input type="text" id="newId" placeholder="Module ID">
      <input type="text" id="newTitle" placeholder="Module Title">
      <input type="text" id="newDesc" placeholder="Short Description">
      <textarea id="newContent" placeholder="Lesson HTML Content" rows="5"></textarea>
      <button onclick="addModule()">Add Module</button>
    </div>
  </div>

  <div id="lessonModal">
    <span onclick="closeLesson()">X</span>
    <div id="lessonContent"></div>
  </div>

  <script>
    let modules = [
      {
        id: 'crypto',
        title: 'Cryptocurrency Basics',
        desc: 'Learn how crypto works and how to earn securely.',
        content: `<h2>Cryptocurrency Basics</h2><p>Cryptocurrency is a digital...</p>`
      },
      {
        id: 'savings',
        title: 'High-Yield Savings',
        desc: 'Grow your savings smartly and steadily.',
        content: `<h2>High-Yield Savings</h2><p>Savings is the act...</p>`
      }
    ];

    const modulesContainer = document.getElementById('modulesContainer');

    function renderModules() {
      modulesContainer.innerHTML = '';
      modules.forEach(module => {
        const card = document.createElement('div');
        card.className = 'learn-card';
        card.innerHTML = `
          <h3>${module.title}</h3>
          <p>${module.desc}</p>
          <button onclick="openLesson('${module.id}')">Start Lesson</button>
          <button onclick="editModule('${module.id}')">Edit</button>
        `;
        modulesContainer.appendChild(card);
      });
    }

    function openLesson(id) {
      const m = modules.find(x => x.id === id);
      document.getElementById('lessonContent').innerHTML = m.content;
      document.getElementById('lessonModal').style.display = 'block';
    }

    function closeLesson() {
      document.getElementById('lessonModal').style.display = 'none';
    }

    function addModule() {
      const id = document.getElementById('newId').value.trim();
      const title = document.getElementById('newTitle').value.trim();
      const desc = document.getElementById('newDesc').value.trim();
      const content = document.getElementById('newContent').value.trim();

      if (!id || !title || !desc || !content) return alert('Fill all fields!');
      if (modules.some(m => m.id === id)) return alert('Module ID must be unique.');

      modules.push({ id, title, desc, content });
      renderModules();

      // Clear inputs
      document.getElementById('newId').value = '';
      document.getElementById('newTitle').value = '';
      document.getElementById('newDesc').value = '';
      document.getElementById('newContent').value = '';
    }

    function editModule(id) {
      const module = modules.find(m => m.id === id);
      const formHTML = `
        <h3>Edit Module: ${module.title}</h3>
        <input id="editTitle" value="${module.title}" />
        <input id="editDesc" value="${module.desc}" />
        <textarea id="editContent" rows="6">${module.content}</textarea>
        <br/>
        <button onclick="saveModule('${id}')">Save</button>
      `;
      document.getElementById('lessonContent').innerHTML = formHTML;
      document.getElementById('lessonModal').style.display = 'block';
    }

    function saveModule(id) {
      const module = modules.find(m => m.id === id);
      module.title = document.getElementById('editTitle').value;
      module.desc = document.getElementById('editDesc').value;
      module.content = document.getElementById('editContent').value;

      closeLesson();
      renderModules();
    }

    renderModules();
  </script>
</body>
</html>
