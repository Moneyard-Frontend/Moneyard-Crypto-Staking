<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Moneyard Dashboard</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body style="padding-top: 60px; padding-bottom: 20px;">
  <!-- Logout Button -->
  <div class="logout-container">
    <button class="logout-button" onclick="logout()">Log Out</button>
  </div>

  <!-- User Summary -->
  <section id="user-summary" class="form">
    <h3>Account Summary</h3>
    <p><strong>Username:</strong> <span id="summary-username">Loading...</span></p>
    <p><strong>Total Deposited:</strong> <span id="summary-total">0 USDT</span></p>
    <p><strong>Available Balance:</strong> <span id="summary-balance">0 USDT</span></p>
  </section>

  <!-- Deposit Section -->
  <section id="deposit-section" class="form">
    <h3>Deposit Funds</h3>
    <label for="network">Choose Network:</label>
    <select id="network" onchange="getDepositAddress()">
      <option value="">-- Select Network --</option>
      <option value="Tron">TRC20 (Tron)</option>
      <option value="BNB">BEP20 (BNB Smart Chain)</option>
    </select>

    <button onclick="getDepositAddress()">Get Deposit Address</button>
    <p id="deposit-address" style="margin-top: 10px;"></p>
    <button id="copy-button" onclick="copyToClipboard()" style="display: none;">Copy Address</button>

    <input type="number" id="deposit-amount" placeholder="Enter amount (15 - 1000 USDT)" />
    <button onclick="logDeposit()">Submit Deposit</button>
  </section>

  <!-- Withdraw Section -->
  <section id="withdraw-section" class="form">
    <h3>Withdraw Funds</h3>
    <input type="number" id="withdraw-amount" placeholder="Amount to withdraw (min 10 USDT)" />
    <input type="text" id="withdraw-address" placeholder="Your USDT wallet address" />
    <input type="password" id="withdraw-password" placeholder="Withdrawal password" />
    <button onclick="submitWithdrawal()">Request Withdrawal</button>
    <p id="withdraw-info" style="margin-top: 10px; font-size: 14px; color: gray;">
      Withdrawals are processed within 24 hours. Minimum withdrawal is 10 USDT.
    </p>
  </section>

  <!-- Earnings Calculator -->
  <section id="earnings-calculator-section" class="form">
    <h3>Earnings Calculator</h3>
    <p>Calculate your daily earnings based on your deposit.</p>
    <input type="number" id="deposit-input" placeholder="Enter deposit amount" />
    <button onclick="calculateEarnings()">Calculate Earnings</button>
    <p id="calculated-earnings"></p>
  </section>

  <!-- Transaction History -->
  <section id="transaction-history-section" class="form">
    <h3>Transaction History</h3>
    <table id="transaction-history-table">
      <thead>
        <tr>
          <th>Type</th>
          <th>Amount</th>
          <th>Network</th>
          <th>Transaction ID</th>
          <th>Status</th>
          <th>Date</th>
        </tr>
      </thead>
      <tbody>
        <!-- Transaction rows injected here -->
      </tbody>
    </table>
  </section>

  <script src="script.js"></script>

  <div class="bottom-nav">
    <button class="nav-btn" onclick="navigateTo('home')">Home</button>
    <button class="nav-btn" onclick="navigateTo('referral')">Referral</button>
    <button class="nav-btn active" onclick="navigateTo('stake')">Stake</button>
    <button class="nav-btn" onclick="navigateTo('assets')">Assets</button>
  </div>

  <script>
    function navigateTo(page) {
      switch(page) {
        case 'home':
          window.location.replace('index.html'); // Use replace to avoid logging out
          break;
        case 'referral':
          window.location.href = 'referral.html'; // Adjust with your referral page path
          break;
        case 'stake':
          window.location.href = 'stake.html'; // Adjust with your stake page path
          break;
        case 'assets':
          window.location.href = 'assets.html'; // Adjust with your assets page path
          break;
        default:
          console.log("Invalid page");
          break;
      }
    }
  </script>
</body>
</html>
<script>
  // Check if the user is logged in
  if (localStorage.getItem("loggedIn") !== "true") {
    // If not logged in, redirect to the homepage (index.html)
    window.location.replace("index.html");
  }

  // navigateTo function to handle navigation
  function navigateTo(page) {
    switch(page) {
      case 'home':
        window.location.replace('index.html'); // Go to home page (index.html) without logging out
        break;
      case 'referral':
        window.location.href = 'referral.html'; // Go to referral page
        break;
      case 'stake':
        window.location.href = 'stake.html'; // Go to stake page
        break;
      case 'assets':
        window.location.href = 'assets.html'; // Go to assets page
        break;
      default:
        console.log("Invalid page");
        break;
    }
  }

  // Example logout function that clears session on logout
  function logout() {
    localStorage.removeItem("loggedIn"); // Clear the loggedIn session item
    window.location.replace("index.html"); // Redirect to the homepage
  }
</script>
<script>
  // Check if the user is logged in when the page loads
  if (localStorage.getItem("loggedIn") !== "true") {
    window.location.replace("index.html"); // Redirect to login page if not logged in
  }

  // navigateTo function to handle navigation
  function navigateTo(page) {
    switch(page) {
      case 'home':
        window.location.replace('index.html'); // Navigate to homepage (index.html) without logging out
        break;
      case 'referral':
        window.location.href = 'referral.html'; // Navigate to referral page
        break;
      case 'stake':
        window.location.href = 'stake.html'; // Navigate to stake page
        break;
      case 'assets':
        window.location.href = 'assets.html'; // Navigate to assets page
        break;
      default:
        console.log("Invalid page");
        break;
    }
  }

  // Logout function to clear session data and log the user out
  function logout() {
    localStorage.removeItem("loggedIn"); // Clear logged-in state
    window.location.replace("index.html"); // Redirect to login page after logout
  }
</script>
